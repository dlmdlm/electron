<!DOCTYPE html>
<html>
  <head>
    <script>window.$ = window.jQuery = require('jquery');</script>
    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.6/cerulean/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">

    <script src="https://browser.sentry-cdn.com/5.2.1/bundle.min.js" crossorigin="anonymous"></script>

    <meta charset="UTF-8">  
    <title>Hello Sentry!</title>
  </head>
  <body>

    <script>
      // electron App...
      Sentry.init({ dsn: 'https://5268e7ce262e40e583ed8bfcaac59b90@sentry.io/1463801' })
    </script>

    <div class="">
      <div class="App" style="color: black">
        <div class="App-header">
          <img src="../assets/sentry-glyph-black.png" class="App-logo" alt="logo" />
          <h1>Sentry.io - Sample Error Page</h1>
        </div>

        <div class="center">
          <form>
            <div class="form-group">
              <input id="email" type="text" type="email" class="form-control" placeholder="Enter email">
            </div>
            <button id="submit-email" type="submit" class="btn btn-primary" onclick="return false">Submit</button>
          </form>
        </div>

        <h2 id="guest-email">Set Your Email Above</h2>


        <ul class="center list-group">
          <li class="list-group-item list-group-item-danger">
            <h3>ERRORS</h3>
          </li>
          <li class="list-group-item" onclick="notAFunctionError()">
            <h3>TypeError</h3>
            <p>obj.attributeInvalid is not a function</p>
          </li>
          <li class="list-group-item" onclick="uriError()">
            <h3>URIError</h3>
            <p>URI malformed
            </p>
          </li>
          <li class="list-group-item" onclick="syntaxError()">
            <h3>SyntaxError</h3>
            <p>Unexpected identifier</p>
          </li>
          <li class="list-group-item" onclick="rangeError()">
            <h3>RangeError</h3>
            <p>Parameter must be between 1 and 100</p>
          </li>
        </ul>
      </div>
    </div>

    <script>
      notAFunctionError = function() {
        var someArray = [{ func: function () {}}];
        someArray[1].func();
      }

      uriError = function() {
        decodeURIComponent('%');
      }

      syntaxError = function() {
        eval('foo bar');
      }

      rangeError = function() {
        throw new RangeError('Parameter must be between 1 and 100');
      }

      $(document).ready(function(){
        $("#submit-email").click(function(event){
          var email = $("#email").val()
          document.querySelector('#guest-email').innerHTML = `Hi ${email}`

          Sentry.configureScope(scope => {
            scope.setUser({ email: email });
          });
        });
      });

      function errorMain() {
        ipcRenderer.send('demo.error');
      };

      function errorRenderer() {
        throw new Error('Error triggered in renderer process');
      };

      function crashMain() {
        ipcRenderer.send('demo.crash');
      };

      // function crashRenderercrash = crash

    </script>
  </body>
</html>
